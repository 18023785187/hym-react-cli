# hym-react-cli
<a href="https://www.npmjs.com/package/hym-react-cli"><img src="https://img.shields.io/npm/v/hym-react-cli.svg" alt="Version"></a>
<a href="https://npmcharts.com/compare/hym-react-cli?minimal=true"><img src="https://img.shields.io/npm/dm/hym-react-cli.svg" alt="Downloads"></a>
<a href="https://github.com/18023785187/hym-react-cli/blob/master/LICENSE"><img src="https://img.shields.io/npm/l/hym-react-cli.svg" alt="License"></a>
<a href="https://github.com/18023785187/hym-react-cli/search?l=javascript"><img src="https://img.shields.io/github/languages/top/18023785187/hym-react-cli.svg" alt="TopLang"></a>

### ğŸš€ åŸºäºcreate-react-appçš„React + Ts + Stylus + Cesium + dllé›†æˆè„šæ‰‹æ¶, å¯æ ¹æ®ä¸ªäººéœ€è¦ä¸€é”®é…ç½®å¯é€‰æ¨¡æ¿

ä¸€é”®é…ç½®å¯é€‰æ¨¡æ¿ï¼Œè‡ªåŠ¨å®‰è£…ä¾èµ–ï¼Œç”Ÿæˆæ–‡ä»¶å¤¹ç›®å½•

# ä½¿ç”¨

```
npm i -g hym-react-cli

npx create-hym-react <projectName> --template <template>
```

```javascript
<projectName> é¡¹ç›®åç§°
<template> å¯é€‰æ¨¡æ¿, <template>å†…å¡«å…¥ä½¿ç”¨çš„æ¨¡æ¿, ä»¥é€—å·éš”å¼€, å¦‚æœä¸å¡«é»˜è®¤ä¸ºä¸é…ç½®æ¨¡æ¿ã€‚å¯é€‰å€¼: ts,cesium,stylus,dll,allã€‚allä¸ºé…ç½®æ‰€æœ‰æ¨¡æ¿

äº‹ä¾‹: create-hym-react demo --template ts,stylus
```

# æ‚é¡¹

å¦‚æœåœ¨windosä¸Šé‡åˆ°C:\Users\xxx\AppData\Roaming\npm\create-hym-react.ps1ï¼Œç¦æ­¢åœ¨æœ¬ç³»ç»Ÿä¸Šè¿è¡Œè„šæœ¬ã€‚

è¯·åœ¨CMDæ‰§è¡Œ set-ExecutionPolicy RemoteSigned

## æ‰©å±•webpack

```javascript
/*
    node

    react-app-rewired å¯¹webpacké…ç½®è¿›è¡Œæ‰©å±•ã€‚
                      ç”¨æ³•: åœ¨æ ¹ç›®å½•æ–°å»º config-overrides.jsæ–‡ä»¶, ç„¶åé…ç½®npmå‘½ä»¤ï¼Œè¯¦æƒ…è§package.jsonã€‚
*/
$ npm i react-app-rewired customize-cra -D

/*
    config-overrides.js
*/
module.exports = function override(...args)
// args[i] = function (config, env) { return config }
// config: reactè¾“å‡ºçš„webpacké…ç½®å¯¹è±¡
// env: æ¨¡å¼

/*
    å¦‚æœä¸å¸Œæœ›é…ç½®æ–‡ä»¶åœ¨æ ¹ç›®å½•å¹¶ä¸”è‡ªå®šä¹‰æ–‡ä»¶åç§°ï¼Œå¯ä»¥åœ¨package.jsonå¢åŠ å¦‚ä¸‹é…ç½®ï¼š

    package.json
*/
"config-overrides-path": path // pathä¸ºä½ å®šä¹‰çš„è·¯å¾„ï¼Œå¦‚ï¼š './ç›®å½•/æ–‡ä»¶å'
```
## é…ç½®dll

åœ¨ä½¿ç”¨çš„åº“è¿‡å¤šæˆ–è¿‡å¤§æ—¶æˆ‘ä»¬éœ€è¦é…ç½®dllå¯¹ä¸€äº›åº“å•ç‹¬æ‰“åŒ…ä»¥ä¼˜åŒ–æ„å»ºé€Ÿåº¦ï¼Œæ‰€ä»¥åœ¨è¯¥æ¨¡æ¿ä¸­é…ç½®äº†dllã€‚

```typescript
$ npm i webpack-cli add-asset-html-webpack-plugin -D
```

```typescript
/*
    dllçš„åŸºæœ¬é…ç½®å¯ä»¥åœ¨ä»¥ä¸‹æ–‡ä»¶ä¸­æ‰¾åˆ°ï¼š
        ./scripts/dll.js    developmenté…ç½®
        ./scripts/dll_bundle.js     productioné…ç½®
        ./scripts/overrides.js -> dllConfig     å¼•å…¥é…ç½®
*/
/*
    ç”¨æ³•ï¼š
        1. åœ¨dll.jså’Œdll_bundle.jsçš„vendoræ·»åŠ éœ€è¦å•ç‹¬æ‰“åŒ…çš„åº“
        2. æ‰§è¡Œä¸€æ¬¡npm run dll å’Œ npm run dll:build
*/
```

## é…ç½®Cesium

./scripts/overrides.js -> cesiumConfig å·²ç»åŒ…å«äº†Cesiumé…ç½®ï¼Œä¸‹é¢åªè¯´æ˜Cesiumçš„é™æ€èµ„æºé…ç½®ï¼š

```typescript
$ npm i cesium -S
$ npm i copy-webpack-plugin -D
```

```typescript
import { Ion } from 'cesium'

// ä¸ºå½“å‰é¡¹ç›®é…ç½®Cesiumé™æ€èµ„æºçš„æ ¹è·¯å¾„
window.CESIUM_BASE_URL = process!.env!.NODE_ENV === 'development' ? devPath : prodPath
// è®¾ç½®ä»¤ç‰Œ
Ion.defaultAccessToken = xxx
```
